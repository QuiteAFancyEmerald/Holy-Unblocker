(()=>{var e={5831:function(e,t,r){var o={"./":"6707","./client":"2712","./client.ts":"2712","./document":"5974","./document.ts":"5974","./dom/attr":"8959","./dom/attr.ts":"8959","./dom/beacon":"2863","./dom/beacon.ts":"2863","./dom/cookie":"1197","./dom/cookie.ts":"1197","./dom/css":"7339","./dom/css.ts":"7339","./dom/document":"1938","./dom/document.ts":"1938","./dom/element":"2439","./dom/element.ts":"2439","./dom/fontface":"6643","./dom/fontface.ts":"6643","./dom/history":"461","./dom/history.ts":"461","./dom/navigation":"2410","./dom/navigation.ts":"2410","./dom/open":"8805","./dom/open.ts":"8805","./dom/origin":"3261","./dom/origin.ts":"3261","./dom/performance":"4475","./dom/performance.ts":"4475","./dom/protocol":"6101","./dom/protocol.ts":"6101","./dom/serviceworker":"5707","./dom/serviceworker.ts":"5707","./dom/storage":"9227","./dom/storage.ts":"9227","./events":"5008","./events.ts":"5008","./global":"2237","./global.ts":"2237","./helpers":"7932","./helpers.ts":"7932","./index":"6707","./index.ts":"6707","./location":"8971","./location.ts":"8971","./natives":"3498","./natives.ts":"3498","./shared/antiantidebugger":"8278","./shared/antiantidebugger.ts":"8278","./shared/blob":"9447","./shared/blob.ts":"9447","./shared/caches":"4169","./shared/caches.ts":"4169","./shared/err":"5146","./shared/err.ts":"5146","./shared/error":"7651","./shared/error.ts":"7651","./shared/eval":"4423","./shared/eval.ts":"4423","./shared/event":"8231","./shared/event.ts":"8231","./shared/function":"7636","./shared/function.ts":"7636","./shared/import":"4636","./shared/import.ts":"4636","./shared/indexeddb":"2930","./shared/indexeddb.ts":"2930","./shared/opfs":"6970","./shared/opfs.ts":"6970","./shared/postmessage":"2625","./shared/postmessage.ts":"2625","./shared/realm":"6594","./shared/realm.ts":"6594","./shared/requests/eventsource":"2738","./shared/requests/eventsource.ts":"2738","./shared/requests/fetch":"106","./shared/requests/fetch.ts":"106","./shared/requests/websocket":"7219","./shared/requests/websocket.ts":"7219","./shared/requests/xmlhttprequest":"7481","./shared/requests/xmlhttprequest.ts":"7481","./shared/sourcemaps":"6321","./shared/sourcemaps.ts":"6321","./shared/trustedTypes":"1587","./shared/trustedTypes.ts":"1587","./shared/unproxy":"2370","./shared/unproxy.ts":"2370","./shared/worker":"8475","./shared/worker.ts":"8475","./shared/wrap":"7706","./shared/wrap.ts":"7706","./swruntime":"633","./swruntime.ts":"633","./worker/importScripts":"5425","./worker/importScripts.ts":"5425"};function n(e){return r(a(e))}function a(e){if(!r.o(o,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=a,e.exports=n,n.id=5831},2712:function(e,t,r){r.r(t),r.d(t,{ScramjetClient:()=>g});var o=r(6707),n=r(9777),a=r(5974),s=r(2237),i=r(7932),l=r(8971),c=r(3498),p=r(4471),u=r(7706),f=r(5008);class g{global;documentProxy;globalProxy;locationProxy;serviceWorker;bare;natives;descriptors;sourcemaps;wrapfn;cookieStore;eventcallbacks;meta;constructor(e){if(this.global=e,this.cookieStore=new p.hc,this.eventcallbacks=new Map,n.a3 in e)throw console.error("attempted to initialize a scramjet client, but one is already loaded - this is very bad"),Error();o.iswindow?this.bare=new p.dg:this.bare=new p.dg(new Promise(e=>{addEventListener("message",({data:t})=>{"object"==typeof t&&"$scramjet$type"in t&&"baremuxinit"===t.$scramjet$type&&e(t.port)})})),this.serviceWorker=this.global.navigator.serviceWorker,o.iswindow&&(this.documentProxy=(0,a.createDocumentProxy)(this,e),e.document[n.a3]=this),this.locationProxy=(0,l.createLocationProxy)(this,e),this.globalProxy=(0,s.createGlobalProxy)(this,e),this.wrapfn=(0,u.createWrapFn)(this,e),this.sourcemaps={},this.natives={store:new Proxy({},{get:(e,t)=>{if(t in e)return e[t];let r=t.split("."),o=r.pop(),n=r.reduce((e,t)=>e?.[t],this.global);if(!n)return;let a=Reflect.get(n,o);return e[t]=a,e[t]}}),construct(e,...t){let r=this.store[e];return r?new r(...t):null},call(e,t,...r){let o=this.store[e];return o?o.call(t,...r):null}},this.descriptors={store:new Proxy({},{get:(e,t)=>{if(t in e)return e[t];let r=t.split("."),o=r.pop(),n=r.reduce((e,t)=>e?.[t],this.global);if(!n)return;let a=(0,c.nativeGetOwnPropertyDescriptor)(n,o);return e[t]=a,e[t]}}),get(e,t){let r=this.store[e];return r?r.get.call(t):null},set(e,t,r){let o=this.store[e];if(!o)return null;o.set.call(t,r)}};let t=this;this.meta={get origin(){return t.url},get base(){if(o.iswindow){let e=t.natives.call("Document.prototype.querySelector",t.global.document,"base");if(e){let r=e.getAttribute("href"),o=r.indexOf("#");if(!(r=r.substring(0,-1===o?void 0:o)))return t.url;return new URL(r,t.url.origin)}}return t.url}},e[n.a3]=this}get frame(){if(!o.iswindow)return null;let e=this.descriptors.get("window.frameElement",this.global);if(!e)return null;let t=e[n.D1];if(!t){let e=this.global.window;for(;e.parent!==e;){if(!e.frameElement)return null;if(e.frameElement&&e.frameElement[n.D1])return e.frameElement[n.D1];e=e.parent.window}}return t}get isSubframe(){if(!o.iswindow)return!1;let e=this.descriptors.get("window.frameElement",this.global);return!!e&&!e[n.D1]}loadcookies(e){this.cookieStore.load(e)}hook(){let e=r(5831),t=[];for(let r of e.keys()){let o=e(r);r.endsWith(".ts")&&(r.startsWith("./dom/")&&"window"in this.global||r.startsWith("./worker/")&&"WorkerGlobalScope"in this.global||r.startsWith("./shared/"))&&t.push(o)}for(let e of(t.sort((e,t)=>(e.order||0)-(t.order||0)),t))!e.enabled||e.enabled(this)?e.default(this,this.global):e.disabled&&e.disabled(this,this.global)}get url(){return new URL((0,p.Sd)(this.global.location.href))}set url(e){e instanceof URL&&(e=e.toString());let t=new f.NavigateEvent(e);this.frame&&this.frame.dispatchEvent(t),t.defaultPrevented||(this.global.location.href=(0,p.dm)(t.url,this.meta))}Proxy(e,t){if(Array.isArray(e)){for(let r of e)this.Proxy(r,t);return}let r=e.split("."),o=r.pop(),n=r.reduce((e,t)=>e?.[t],this.global);if(!n)return;let a=Reflect.get(n,o);this.natives.store[e]=a,this.RawProxy(n,o,t)}RawProxy(e,t,r){if(!e||!t||!Reflect.has(e,t))return;let o=Reflect.get(e,t);delete e[t];let n={};r.construct&&(n.construct=function(e,t,o){let n,a=!1,s={fn:e,this:null,args:t,newTarget:o,return:e=>{a=!0,n=e},call:()=>(a=!0,n=Reflect.construct(s.fn,s.args,s.newTarget))};return(r.construct(s),a)?n:Reflect.construct(s.fn,s.args,s.newTarget)}),r.apply&&(n.apply=function(e,t,o){let n,a=!1,s={fn:e,this:t,args:o,newTarget:null,return:e=>{a=!0,n=e},call:()=>(a=!0,n=Reflect.apply(s.fn,s.this,s.args))},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){if(t[0].getFileName()&&!t[0].getFileName().startsWith(location.origin+p.vc.prefix))return{stack:e.stack}};try{r.apply(s)}catch(e){if(e instanceof Error)if(e.stack instanceof Object)e.stack=e.stack.stack,console.error("ERROR FROM SCRAMJET INTERNALS",e);else throw e;else throw e}return(Error.prepareStackTrace=i,a)?n:Reflect.apply(s.fn,s.this,s.args)}),n.getOwnPropertyDescriptor=i.getOwnPropertyDescriptorHandler,e[t]=new Proxy(o,n)}Trap(e,t){if(Array.isArray(e)){for(let r of e)this.Trap(r,t);return}let r=e.split("."),o=r.pop(),n=r.reduce((e,t)=>e?.[t],this.global);if(!n)return;let a=(0,c.nativeGetOwnPropertyDescriptor)(n,o);return this.descriptors.store[e]=a,this.RawTrap(n,o,t)}RawTrap(e,t,r){if(!e||!t||!Reflect.has(e,t))return;let o=(0,c.nativeGetOwnPropertyDescriptor)(e,t),n={this:null,get:function(){return o&&o.get.call(this.this)},set:function(e){o&&o.set.call(this.this,e)}};delete e[t];let a={};return r.get?a.get=function(){return n.this=this,r.get(n)}:o?.get&&(a.get=o.get),r.set?a.set=function(e){n.this=this,r.set(n,e)}:o?.set&&(a.set=o.set),r.enumerable?a.enumerable=r.enumerable:o?.enumerable&&(a.enumerable=o.enumerable),r.configurable?a.configurable=r.configurable:o?.configurable&&(a.configurable=o.configurable),Object.defineProperty(e,t,a),o}}},5974:function(e,t,r){r.r(t),r.d(t,{createDocumentProxy:()=>a});var o=r(4471),n=r(7932);function a(e,t){return new Proxy(t.document,{get:(t,r)=>"location"===r?e.locationProxy:"defaultView"===r?e.globalProxy:Reflect.get(t,r),set(t,r,n){if("location"===r){location.href=(0,o.dm)(n,e.meta);return}return Reflect.set(t,r,n)},getOwnPropertyDescriptor:n.getOwnPropertyDescriptorHandler})}},8959:function(e,t,r){function o(e,t){e.Trap("Element.prototype.attributes",{get(e){let t=e.get(),r=new Proxy(t,{get(e,o,n){let a=Reflect.get(e,o);return"length"===o?Object.keys(r).length:"getNamedItem"===o?e=>r[e]:"getNamedItemNS"===o?(e,t)=>r[`${e}:${t}`]:o in NamedNodeMap.prototype&&"function"==typeof a?new Proxy(a,{apply:(e,o,n)=>o===r?Reflect.apply(e,t,n):Reflect.apply(e,o,n)}):"string"!=typeof o&&"number"!=typeof o||isNaN(Number(o))?this.has(e,o)?a:void 0:t[Object.keys(r)[o]]},ownKeys(e){return Reflect.ownKeys(e).filter(t=>this.has(e,t))},has:(e,r)=>"symbol"==typeof r?Reflect.has(e,r):!(r.startsWith("scramjet-attr-")||t[r]?.name?.startsWith("scramjet-attr-"))&&Reflect.has(e,r)});return r}}),e.Trap("Attr.prototype.value",{get:e=>e.this?.ownerElement?e.this.ownerElement.getAttribute(e.this.name):e.get(),set:(e,t)=>e.this?.ownerElement?e.this.ownerElement.setAttribute(e.this.name,t):e.set(t)})}r.r(t),r.d(t,{default:()=>o})},2863:function(e,t,r){r.r(t),r.d(t,{default:()=>n});var o=r(4471);function n(e,t){e.Proxy("Navigator.prototype.sendBeacon",{apply(t){t.args[0]=(0,o.dm)(t.args[0],e.meta)}})}},1197:function(e,t,r){function o(e,t){e.serviceWorker.addEventListener("message",({data:t})=>{if("scramjet$type"in t&&"cookie"===t.scramjet$type){e.cookieStore.setCookies([t.cookie],new URL(t.url));let r={scramjet$token:t.scramjet$token,scramjet$type:"cookie"};e.serviceWorker.controller.postMessage(r)}}),e.Trap("Document.prototype.cookie",{get:()=>e.cookieStore.getCookies(e.url,!0),set(t,r){e.cookieStore.setCookies([r],e.url);let o=e.descriptors.get("ServiceWorkerContainer.prototype.controller",e.serviceWorker);o&&e.natives.call("ServiceWorker.prototype.postMessage",o,{scramjet$type:"cookie",cookie:r,url:e.url.href})}}),delete t.cookieStore}r.r(t),r.d(t,{default:()=>o})},7339:function(e,t,r){r.r(t),r.d(t,{default:()=>n});var o=r(4471);function n(e){e.Proxy("CSSStyleDeclaration.prototype.setProperty",{apply(t){t.args[1]&&(t.args[1]=(0,o.U5)(t.args[1],e.meta))}}),e.Proxy("CSSStyleDeclaration.prototype.getPropertyValue",{apply(e){let t=e.call();if(!t)return t;e.return((0,o.Od)(t))}}),e.Trap("CSSStyleDeclaration.prototype.cssText",{set(t,r){t.set((0,o.U5)(r,e.meta))},get:e=>(0,o.Od)(e.get())}),e.Proxy("CSSStyleSheet.prototype.insertRule",{apply(t){t.args[0]=(0,o.U5)(t.args[0],e.meta)}}),e.Trap("CSSRule.prototype.cssText",{set(t,r){t.set((0,o.U5)(r,e.meta))},get:e=>(0,o.Od)(e.get())}),e.Proxy(["CSSStyleValue.parse","CSSStyleValue.parseAll"],{apply(t){t.args[1]&&(t.args[1]=(0,o.U5)(t.args[1],e.meta))}}),e.Trap("HTMLElement.prototype.style",{get(t){let r=t.get();return new Proxy(r,{get(e,t){let n=Reflect.get(e,t);return"function"==typeof n?new Proxy(n,{apply:(e,t,o)=>Reflect.apply(e,r,o)}):t in CSSStyleDeclaration.prototype||!n?n:(0,o.Od)(n)},set:(t,r,n)=>"cssText"==r||""==n||"string"!=typeof n?Reflect.set(t,r,n):Reflect.set(t,r,(0,o.U5)(n,e.meta))})},set(e,t){e.set(t)}})}},1938:function(e,t,r){r.r(t),r.d(t,{default:()=>n});var o=r(4471);function n(e,t){e.Proxy(["Document.prototype.querySelector","Document.prototype.querySelectorAll"],{apply(e){e.args[0]=e.args[0].replace(/((?:^|\s)\b\w+\[(?:src|href|data-href))[\^]?(=['"]?(?:https?[:])?\/\/)/,"$1*$2")}}),e.Proxy("Document.prototype.write",{apply(t){if(t.args[0])try{t.args[0]=(0,o.r4)(t.args[0],e.cookieStore,e.meta,!1)}catch{}}}),e.Proxy("Document.prototype.writeln",{apply(t){if(t.args[0])try{t.args[0]=(0,o.r4)(t.args[0],e.cookieStore,e.meta,!1)}catch{}}}),e.Proxy("Document.prototype.parseHTMLUnsafe",{apply(t){if(t.args[0])try{t.args[0]=(0,o.r4)(t.args[0],e.cookieStore,e.meta,!1)}catch{}}})}},2439:function(e,t,r){r.r(t),r.d(t,{default:()=>l});var o=r(9777),n=r(2712),a=r(3498),s=r(4471);let i=new TextEncoder;function l(e,t){let r={nonce:[t.HTMLElement],integrity:[t.HTMLScriptElement,t.HTMLLinkElement],csp:[t.HTMLIFrameElement],credentialless:[t.HTMLIFrameElement],src:[t.HTMLImageElement,t.HTMLMediaElement,t.HTMLIFrameElement,t.HTMLFrameElement,t.HTMLEmbedElement,t.HTMLScriptElement,t.HTMLSourceElement],href:[t.HTMLAnchorElement,t.HTMLLinkElement,t.SVGImageElement],data:[t.HTMLObjectElement],action:[t.HTMLFormElement],formaction:[t.HTMLButtonElement,t.HTMLInputElement],srcdoc:[t.HTMLIFrameElement],srcset:[t.HTMLImageElement,t.HTMLSourceElement],poster:[t.HTMLVideoElement],imagesrcset:[t.HTMLLinkElement]},l=[t.HTMLAnchorElement.prototype,t.HTMLAreaElement.prototype],c=[(0,a.nativeGetOwnPropertyDescriptor)(t.HTMLAnchorElement.prototype,"href"),(0,a.nativeGetOwnPropertyDescriptor)(t.HTMLAreaElement.prototype,"href")];for(let e of Object.keys(r))for(let t of r[e]){let r=(0,a.nativeGetOwnPropertyDescriptor)(t.prototype,e);Object.defineProperty(t.prototype,e,{get(){return["src","data","href","action","formaction"].includes(e)?(0,s.Sd)(r.get.call(this)):r.get.call(this)},set(t){return this.setAttribute(e,t)}})}for(let t of["protocol","hash","host","hostname","origin","pathname","port","search"])for(let r in l){let o=l[r],n=c[r];e.RawTrap(o,t,{get(e){let r=n.get.call(e.this);return r?new URL((0,s.Sd)(r))[t]:r}})}e.Trap("Node.prototype.baseURI",{get(t){let r=t.this,o=r.ownerDocument?.querySelector("base");return(r instanceof Document&&(o=r.querySelector("base")),o)?new URL(o.href,e.url.origin).href:e.url.origin},set:(e,t)=>!1}),e.Proxy("Element.prototype.getAttribute",{apply(t){let[r]=t.args;if(r.startsWith("scramjet-attr"))return t.return(null);if(e.natives.call("Element.prototype.hasAttribute",t.this,`scramjet-attr-${r}`)){let e=t.fn.call(t.this,`scramjet-attr-${r}`);return null===e?t.return(""):t.return(e)}}}),e.Proxy("Element.prototype.getAttributeNames",{apply(e){let t=e.call().filter(e=>!e.startsWith("scramjet-attr"));e.return(t)}}),e.Proxy("Element.prototype.getAttributeNode",{apply(e){if(e.args[0].startsWith("scramjet-attr"))return e.return(null)}}),e.Proxy("Element.prototype.hasAttribute",{apply(e){if(e.args[0].startsWith("scramjet-attr"))return e.return(!1)}}),e.Proxy("Element.prototype.setAttribute",{apply(t){let[r,o]=t.args,n=s.Gq.find(e=>{let o=e[r.toLowerCase()];return!!o&&("*"===o||"function"!=typeof o&&o.includes(t.this.tagName.toLowerCase()))});n&&(t.args[1]=n.fn(o,e.meta,e.cookieStore),t.fn.call(t.this,`scramjet-attr-${t.args[0]}`,o))}}),e.Proxy("Element.prototype.setAttributeNode",{apply(e){}}),e.Proxy("Element.prototype.setAttributeNS",{apply(t){let[r,o,n]=t.args,a=s.Gq.find(e=>{let r=e[o.toLowerCase()];return!!r&&("*"===r||"function"!=typeof r&&r.includes(t.this.tagName.toLowerCase()))});a&&(t.args[2]=a.fn(n,e.meta,e.cookieStore),e.natives.call("Element.prototype.setAttribute",t.this,`scramjet-attr-${t.args[1]}`,n))}}),e.Proxy("Element.prototype.removeAttribute",{apply(t){if(t.args[0].startsWith("scramjet-attr"))return t.return(void 0);e.natives.call("Element.prototype.hasAttribute",t.this,t.args[0])&&t.fn.call(t.this,`scramjet-attr-${t.args[0]}`)}}),e.Proxy("Element.prototype.toggleAttribute",{apply(t){if(t.args[0].startsWith("scramjet-attr"))return t.return(!1);e.natives.call("Element.prototype.hasAttribute",t.this,t.args[0])&&t.fn.call(t.this,`scramjet-attr-${t.args[0]}`)}}),e.Trap(["Element.prototype.innerHTML","Node.prototype.textContent"],{set(r,o){let n;if(r.this instanceof t.HTMLScriptElement)n=(0,s.Zs)(o,"(anonymous script element)",e.meta),e.natives.call("Element.prototype.setAttribute",r.this,"scramjet-attr-script-source-src",btoa(Array.from(i.encode(n),e=>String.fromCodePoint(e)).join("")));else if(r.this instanceof t.HTMLStyleElement)n=(0,s.U5)(o,e.meta);else try{n=(0,s.r4)(o,e.cookieStore,e.meta)}catch{n=o}r.set(n)},get(r){if(r.this instanceof t.HTMLScriptElement){let t=e.natives.call("Element.prototype.getAttribute",r.this,"scramjet-attr-script-source-src");return t?atob(t):r.get()}return r.this instanceof t.HTMLStyleElement?r.get():(0,s.WT)(r.get())}}),e.Trap("Element.prototype.outerHTML",{set(t,r){t.set((0,s.r4)(r,e.cookieStore,e.meta))},get:e=>(0,s.WT)(e.get())}),e.Proxy("Element.prototype.setHTMLUnsafe",{apply(t){try{t.args[0]=(0,s.r4)(t.args[0],e.cookieStore,e.meta,!1)}catch{}}}),e.Proxy("Element.prototype.getHTML",{apply(e){e.return((0,s.WT)(e.call()))}}),e.Proxy("Element.prototype.insertAdjacentHTML",{apply(t){if(t.args[1])try{t.args[1]=(0,s.r4)(t.args[1],e.cookieStore,e.meta,!1)}catch{}}}),e.Proxy("Audio",{construct(t){t.args[0]&&(t.args[0]=(0,s.dm)(t.args[0],e.meta))}}),e.Proxy("Text.prototype.appendData",{apply(t){t.this.parentElement?.tagName==="STYLE"&&(t.args[0]=(0,s.U5)(t.args[0],e.meta))}}),e.Proxy("Text.prototype.insertData",{apply(t){t.this.parentElement?.tagName==="STYLE"&&(t.args[1]=(0,s.U5)(t.args[1],e.meta))}}),e.Proxy("Text.prototype.replaceData",{apply(t){t.this.parentElement?.tagName==="STYLE"&&(t.args[2]=(0,s.U5)(t.args[2],e.meta))}}),e.Trap("Text.prototype.wholeText",{get:e=>e.this.parentElement?.tagName==="STYLE"?(0,s.Od)(e.get()):e.get(),set:(t,r)=>t.this.parentElement?.tagName==="STYLE"?t.set((0,s.U5)(r,e.meta)):t.set(r)}),e.Trap(["HTMLIFrameElement.prototype.contentWindow","HTMLFrameElement.prototype.contentWindow","HTMLObjectElement.prototype.contentWindow","HTMLEmbedElement.prototype.contentWindow"],{get(e){let t=e.get();if(!t)return t;if(o.a3 in t)return t[o.a3].globalProxy;{let e=new n.ScramjetClient(t);return e.hook(),e.globalProxy}}}),e.Trap(["HTMLIFrameElement.prototype.contentDocument","HTMLFrameElement.prototype.contentDocument","HTMLObjectElement.prototype.contentDocument","HTMLEmbedElement.prototype.contentDocument"],{get(t){let r=e.descriptors.get(`${t.this.constructor.name}.prototype.contentWindow`,t.this);if(!r)return r;if(o.a3 in r)return r[o.a3].documentProxy;{let e=new n.ScramjetClient(r);return e.hook(),e.documentProxy}}}),e.Proxy(["HTMLIFrameElement.prototype.getSVGDocument","HTMLObjectElement.prototype.getSVGDocument","HTMLEmbedElement.prototype.getSVGDocument"],{apply(e){if(e.call())return e.return(e.this.contentDocument)}}),e.Trap("TreeWalker.prototype.currentNode",{get:e=>e.get(),set:(r,o)=>o===e.documentProxy?r.set(t.document):r.set(o)}),e.Proxy("Document.prototype.open",{apply(e){let t=e.call(),r=t[o.a3];return r?e.return(r.documentProxy):e.return(t)}}),e.Trap("Node.prototype.ownerDocument",{get(e){let t=e.get();if(!t)return null;let r=t[o.a3];return r?r.documentProxy:t}}),e.Trap(["Node.prototype.parentNode","Node.prototype.parentElement","Node.prototype.previousSibling","Node.prototype.nextSibling","Range.prototype.commonAncestorContainer","AbstractRange.prototype.endContainer","AbstractRange.prototype.startContainer"],{get(e){let t=e.get();if(!(t instanceof Document))return t;let r=t[o.a3];return r?r.documentProxy:t}}),e.Proxy("Node.prototype.getRootNode",{apply(e){let t=e.call();if(!(t instanceof Document))return e.return(t);let r=t[o.a3];return r?e.return(r.documentProxy):e.return(t)}}),e.Proxy("DOMParser.prototype.parseFromString",{apply(t){if("text/html"===t.args[1])try{t.args[0]=(0,s.r4)(t.args[0],e.cookieStore,e.meta,!1)}catch{}}})}},6643:function(e,t,r){r.r(t),r.d(t,{default:()=>n});var o=r(4471);function n(e,t){e.Proxy("FontFace",{construct(t){t.args[1]=(0,o.U5)(t.args[1],e.meta)}})}},461:function(e,t,r){r.r(t),r.d(t,{default:()=>a});var o=r(4471),n=r(5008);function a(e,t){e.Proxy("History.prototype.pushState",{apply(t){(t.args[2]||""===t.args[2])&&(t.args[2]=(0,o.dm)(t.args[2],e.meta)),t.call();let r=new n.UrlChangeEvent(e.url.href);e.isSubframe||e.frame?.dispatchEvent(r)}}),e.Proxy("History.prototype.replaceState",{apply(t){(t.args[2]||""===t.args[2])&&(t.args[2]=(0,o.dm)(t.args[2],e.meta)),t.call();let r=new n.UrlChangeEvent(e.url.href);e.isSubframe||e.frame?.dispatchEvent(r)}})}},2410:function(e,t,r){function o(e,t){delete t.navigation}r.r(t),r.d(t,{default:()=>o})},8805:function(e,t,r){r.r(t),r.d(t,{default:()=>s});var o=r(4471),n=r(2712),a=r(9777);function s(e){e.Proxy("window.open",{apply(t){t.args[0]&&(t.args[0]=(0,o.dm)(t.args[0],e.meta)),["_parent","_top","_unfencedTop"].includes(t.args[1])&&(t.args[1]="_self");let r=t.call();if(!r)return t.return(r);if(a.a3 in r)return t.return(r[a.a3].globalProxy);{let e=new n.ScramjetClient(r);return e.hook(),t.return(e.globalProxy)}}}),e.Trap("opener",{get(e){let t=e.get();return t&&a.a3 in t?t[a.a3].globalProxy:void 0}}),e.Trap("window.frameElement",{get(e){let t=e.get();return t?t.ownerDocument.defaultView[a.a3]?t:null:t}})}},3261:function(e,t,r){function o(e,t){e.Trap("origin",{get:()=>e.url.origin,set:()=>!1}),e.Trap("Document.prototype.URL",{get:()=>e.url.href,set:()=>!1}),e.Trap("Document.prototype.documentURI",{get:()=>e.url.href,set:()=>!1}),e.Trap("Document.prototype.domain",{get:()=>e.url.hostname,set:()=>!1})}r.r(t),r.d(t,{default:()=>o})},4475:function(e,t,r){r.r(t),r.d(t,{default:()=>n});var o=r(4471);function n(e,t){e.Trap("PerformanceEntry.prototype.name",{get:e=>(0,o.Sd)(e.get())})}},6101:function(e,t,r){r.r(t),r.d(t,{default:()=>n});var o=r(4471);function n(e,t){e.Proxy("Navigator.prototype.registerProtocolHandler",{apply(t){t.args[1]=(0,o.dm)(t.args[1],e.meta)}}),e.Proxy("Navigator.prototype.unregisterProtocolHandler",{apply(t){t.args[1]=(0,o.dm)(t.args[1],e.meta)}})}},5707:function(e,t,r){r.r(t),r.d(t,{default:()=>l,disabled:()=>i,enabled:()=>s,order:()=>a});var o=r(4471),n=r(8810);let a=2,s=e=>(0,n.Sp)("serviceworkers",e.url);function i(e,t){Reflect.deleteProperty(Navigator.prototype,"serviceWorker")}function l(e,t){let r=new WeakMap;e.Proxy("EventTarget.prototype.addEventListener",{apply(e){r.get(e.this)&&e.return(void 0)}}),e.Proxy("EventTarget.prototype.removeEventListener",{apply(e){r.get(e.this)&&e.return(void 0)}}),e.Proxy("ServiceWorkerContainer.prototype.getRegistration",{apply(e){e.return(new Promise(e=>e(registration)))}}),e.Proxy("ServiceWorkerContainer.prototype.getRegistrations",{apply(e){e.return(new Promise(e=>e([registration])))}}),e.Trap("ServiceWorkerContainer.prototype.ready",{get:e=>new Promise(e=>e(registration))}),e.Trap("ServiceWorkerContainer.prototype.controller",{get:e=>registration?.active}),e.Proxy("ServiceWorkerContainer.prototype.register",{apply(t){let n=new EventTarget;Object.setPrototypeOf(n,self.ServiceWorkerRegistration.prototype),n.constructor=t.fn;let a=(0,o.dm)(t.args[0],e.meta)+"?dest=serviceworker";t.args[1]&&"module"===t.args[1].type&&(a+="&type=module");let s=e.natives.construct("SharedWorker",a).port,i={scope:t.args[0],active:s},l=e.descriptors.get("ServiceWorkerContainer.prototype.controller",e.serviceWorker);e.natives.call("ServiceWorker.prototype.postMessage",l,{scramjet$type:"registerServiceWorker",port:s,origin:e.url.origin},[s]),r.set(n,i),t.return(new Promise(e=>e(n)))}})}},9227:function(e,t,r){function o(e,t){let r={get(t,r){switch(r){case"getItem":return r=>t.getItem(e.url.host+"@"+r);case"setItem":return(r,o)=>t.setItem(e.url.host+"@"+r,o);case"removeItem":return r=>t.removeItem(e.url.host+"@"+r);case"clear":return()=>{for(let r in Object.keys(t))r.startsWith(e.url.host)&&t.removeItem(r)};case"key":return r=>{let o=Object.keys(t).filter(t=>t.startsWith(e.url.host));return t.getItem(o[r])};case"length":return Object.keys(t).filter(t=>t.startsWith(e.url.host)).length;default:if(r in Object.prototype||"symbol"==typeof r)return Reflect.get(t,r);return console.log("GET",r,t==o),t.getItem(e.url.host+"@"+r)}},set:(t,r,n)=>(t==o&&console.log("SET",r,n,t===o),t.setItem(e.url.host+"@"+r,n),!0),ownKeys:t=>Reflect.ownKeys(t).filter(t=>"string"==typeof t&&t.startsWith(e.url.host)).map(t=>"string"==typeof t?t.substring(e.url.host.length+1):t),getOwnPropertyDescriptor:(t,r)=>({value:t.getItem(e.url.host+"@"+r),enumerable:!0,configurable:!0,writable:!0}),defineProperty:(t,r,o)=>(t.setItem(e.url.host+"@"+r,o.value),!0)},o=t.localStorage,n=new Proxy(t.localStorage,r),a=new Proxy(t.sessionStorage,r);delete t.localStorage,delete t.sessionStorage,t.localStorage=n,t.sessionStorage=a}r.r(t),r.d(t,{default:()=>o})},5008:function(e,t,r){r.r(t),r.d(t,{NavigateEvent:()=>o,ScramjetContextEvent:()=>a,UrlChangeEvent:()=>n});class o extends Event{url;constructor(e){super("navigate"),this.url=e}}class n extends Event{url;constructor(e){super("urlchange"),this.url=e}}class a extends Event{window;constructor(e){super("contextInit"),this.window=e}}},2237:function(e,t,r){r.r(t),r.d(t,{UNSAFE_GLOBALS:()=>i,createGlobalProxy:()=>l});var o=r(6707),n=r(9777),a=r(2712),s=r(7932);let i=["window","self","globalThis","this","parent","top","location","document","eval","frames"];function l(e,t){return new Proxy(t,{get(t,r){let s=Reflect.get(t,r);if(o.iswindow&&("string"==typeof r||"number"==typeof r)&&!isNaN(Number(r))&&s){let e=s.self;if(e)if(n.a3 in e)return e[n.a3].globalProxy;else{let t=new a.ScramjetClient(e);return t.hook(),t.globalProxy}}if("$scramjet"!==r)return"string"==typeof r&&i.includes(r)?e.wrapfn(s,!0):s},set(t,r,o){if("location"===r){e.url=o;return}return Reflect.set(t,r,o)},has:(e,t)=>"$scramjet"!==t&&Reflect.has(e,t),ownKeys:e=>Reflect.ownKeys(e).filter(e=>"$scramjet"!==e),defineProperty:(e,t,r)=>(r.get||r.set||(r.writable=!0),r.configurable=!0,Reflect.defineProperty(e,t,r)),getOwnPropertyDescriptor:s.getOwnPropertyDescriptorHandler})}},7932:function(e,t,r){function o(e,t){return Reflect.getOwnPropertyDescriptor(e,t)}r.r(t),r.d(t,{getOwnPropertyDescriptorHandler:()=>o})},6707:function(e,t,r){r.r(t),r.d(t,{isdedicated:()=>f,isemulatedsw:()=>d,isshared:()=>g,issw:()=>u,iswindow:()=>c,isworker:()=>p});var o=r(8810),n=r(9777),a=r(2712),s=r(5008),i=r(633),l=r(1762).Z;let c="window"in self&&window instanceof Window,p="WorkerGlobalScope"in self,u="ServiceWorkerGlobalScope"in self,f="DedicatedWorkerGlobalScope"in self,g="SharedWorkerGlobalScope"in self,d="serviceworker"===new URL(self.location.href).searchParams.get("dest");if(l.log("initializing scramjet client"),!(n.a3 in self)){(0,o.t8)();let e=new a.ScramjetClient(self);self.COOKIE&&e.loadcookies(self.COOKIE),e.hook(),d&&new i.ScramjetServiceWorkerRuntime(e).hook();let t=new s.ScramjetContextEvent(e.global.window);e.frame?.dispatchEvent(t);let r=new s.UrlChangeEvent(e.url.href);e.isSubframe||e.frame?.dispatchEvent(r)}Reflect.deleteProperty(self,"WASM"),Reflect.deleteProperty(self,"COOKIE"),"document"in self&&document?.currentScript&&document.currentScript.remove()},8971:function(e,t,r){r.r(t),r.d(t,{createLocationProxy:()=>i});var o=r(3498),n=r(4471),a=r(5008),s=r(6707);function i(e,t){let r=s.iswindow?t.Location:t.WorkerLocation,i={};Object.setPrototypeOf(i,r.prototype),i.constructor=r;let l=s.iswindow?t.location:r.prototype;for(let r of["protocol","hash","host","hostname","href","origin","pathname","port","search"]){let n=(0,o.nativeGetOwnPropertyDescriptor)(l,r);if(!n)continue;let s={configurable:!0,enumerable:!0};n.get&&(s.get=new Proxy(n.get,{apply:()=>e.url[r]})),n.set&&(s.set=new Proxy(n.set,{apply(o,n,s){if("href"===r){e.url=s[0];return}if("hash"===r){t.location.hash=s[0];let r=new a.UrlChangeEvent(e.url.href);e.isSubframe||e.frame?.dispatchEvent(r);return}let i=new URL(e.url.href);i[r]=s[0],e.url=i}})),Object.defineProperty(i,r,s)}return i.toString=new Proxy(t.location.toString,{apply:()=>e.url.href}),t.location.valueOf&&(i.valueOf=new Proxy(t.location.valueOf,{apply:()=>e.url.href})),t.location.assign&&(i.assign=new Proxy(t.location.assign,{apply(r,o,a){a[0]=(0,n.dm)(a[0],e.meta),Reflect.apply(r,t.location,a)}})),t.location.reload&&(i.reload=new Proxy(t.location.reload,{apply(e,r,o){Reflect.apply(e,t.location,o)}})),t.location.replace&&(i.replace=new Proxy(t.location.replace,{apply(r,o,a){a[0]=(0,n.dm)(a[0],e.meta),Reflect.apply(r,t.location,a)}})),i}},3498:function(e,t,r){r.r(t),r.d(t,{nativeFunction:()=>o,nativeGetOwnPropertyDescriptor:()=>n});let o=self.Function,n=self.Object.getOwnPropertyDescriptor},8278:function(e,t,r){function o(e){e.Proxy("console.clear",{apply(e){e.return(void 0)}});let t=console.log;e.Trap("console.log",{set(e,t){},get:e=>t})}r.r(t),r.d(t,{default:()=>o})},9447:function(e,t,r){r.r(t),r.d(t,{default:()=>n});var o=r(4471);function n(e){e.Proxy("URL.createObjectURL",{apply(t){let r=t.call();r.startsWith("blob:")?t.return((0,o.ls)(r,e.meta)):t.return(r)}}),e.Proxy("URL.revokeObjectURL",{apply(e){e.args[0]=(0,o.Ag)(e.args[0])}})}},4169:function(e,t,r){r.r(t),r.d(t,{default:()=>n});var o=r(4471);function n(e,t){e.Proxy("CacheStorage.prototype.open",{apply(t){t.args[0]=`${e.url.origin}@${t.args[0]}`}}),e.Proxy("CacheStorage.prototype.has",{apply(t){t.args[0]=`${e.url.origin}@${t.args[0]}`}}),e.Proxy("CacheStorage.prototype.match",{apply(t){("string"==typeof t.args[0]||t.args[0]instanceof URL)&&(t.args[0]=(0,o.dm)(t.args[0],e.meta))}}),e.Proxy("CacheStorage.prototype.delete",{apply(t){t.args[0]=`${e.url.origin}@${t.args[0]}`}}),e.Proxy("Cache.prototype.add",{apply(t){("string"==typeof t.args[0]||t.args[0]instanceof URL)&&(t.args[0]=(0,o.dm)(t.args[0],e.meta))}}),e.Proxy("Cache.prototype.addAll",{apply(t){for(let r=0;r<t.args[0].length;r++)("string"==typeof t.args[0][r]||t.args[0][r]instanceof URL)&&(t.args[0][r]=(0,o.dm)(t.args[0][r],e.meta))}}),e.Proxy("Cache.prototype.put",{apply(t){("string"==typeof t.args[0]||t.args[0]instanceof URL)&&(t.args[0]=(0,o.dm)(t.args[0],e.meta))}}),e.Proxy("Cache.prototype.match",{apply(t){("string"==typeof t.args[0]||t.args[0]instanceof URL)&&(t.args[0]=(0,o.dm)(t.args[0],e.meta))}}),e.Proxy("Cache.prototype.matchAll",{apply(t){(t.args[0]&&"string"==typeof t.args[0]||t.args[0]&&t.args[0]instanceof URL)&&(t.args[0]=(0,o.dm)(t.args[0],e.meta))}}),e.Proxy("Cache.prototype.keys",{apply(t){(t.args[0]&&"string"==typeof t.args[0]||t.args[0]&&t.args[0]instanceof URL)&&(t.args[0]=(0,o.dm)(t.args[0],e.meta))}}),e.Proxy("Cache.prototype.delete",{apply(t){("string"==typeof t.args[0]||t.args[0]instanceof URL)&&(t.args[0]=(0,o.dm)(t.args[0],e.meta))}})}},5146:function(e,t,r){r.r(t),r.d(t,{argdbg:()=>a,default:()=>s,enabled:()=>n});var o=r(8810);let n=e=>(0,o.Sp)("captureErrors",e.url);function a(e,t=[]){switch(typeof e){case"string":break;case"object":if(e&&e[Symbol.iterator]&&"function"==typeof e[Symbol.iterator])for(let r in e){let o=Object.getOwnPropertyDescriptor(e,r);if(o&&o.get)continue;let n=e[r];t.includes(n)||(t.push(n),a(n,t))}}}function s(e,t){t.$scramerr=function(e){console.warn("CAUGHT ERROR",e)},t.$scramdbg=function(e,t){return e&&"object"==typeof e&&e.length>0&&a(e),a(t),t},e.Proxy("Promise.prototype.catch",{apply(e){e.args[0]&&(e.args[0]=new Proxy(e.args[0],{apply(e,t,r){Reflect.apply(e,t,r)}}))}})}},7651:function(e,t,r){r.r(t),r.d(t,{default:()=>s,enabled:()=>a});var o=r(8810),n=r(4471);let a=e=>(0,o.Sp)("cleanErrors",e.url);function s(e,t){let r=(e,t)=>{let r=e.stack;for(let e=0;e<t.length;e++){let o=t[e].getFileName();if(o.endsWith(n.vc.files.client)){let e=r.split("\n"),t=e.find(e=>e.includes(o));e.splice(t,1),r=e.join("\n");continue}try{r=r.replaceAll(o,(0,n.Sd)(o))}catch{}}return r};e.Trap("Error.prepareStackTrace",{get:e=>r,set(e){}})}},4423:function(e,t,r){r.r(t),r.d(t,{default:()=>n,indirectEval:()=>a});var o=r(4471);function n(e,t){Object.defineProperty(t,o.vc.globals.rewritefn,{value:function(t){return"string"!=typeof t?t:(0,o.Zs)(t,"(direct eval proxy)",e.meta)},writable:!1,configurable:!1})}function a(e,t){let r;return"string"!=typeof t?t:(e?(console.log("STRICT"),r=Function(`
			"use strict";
			return eval;
		`)):r=this.global.eval,r((0,o.Zs)(t,"(indirect eval proxy)",this.meta)))}},8231:function(e,t,r){r.r(t),r.d(t,{default:()=>p});var o=r(6707),n=r(4471),a=r(9777),s=r(7932),i=r(3498),l=r(2370);let c=Symbol.for("scramjet original onevent function");function p(e,t){let r={message:{_init(){return"object"!=typeof this.data||!("$scramjet$type"in this.data)},ports(){return this.ports},source(){if(null===this.source)return null;let e=this.source[a.a3];return e?e.globalProxy:this.source},origin(){return"object"==typeof this.data&&"$scramjet$origin"in this.data?this.data.$scramjet$origin:e.url.origin},data(){return"object"==typeof this.data&&"$scramjet$data"in this.data?this.data.$scramjet$data:this.data}},hashchange:{oldURL(){return(0,n.Sd)(this.oldURL)},newURL(){return(0,n.Sd)(this.newURL)}},storage:{_init(){return this.key.startsWith(e.url.host+"@")},key(){return this.key.substring(this.key.indexOf("@")+1)},url(){return(0,n.Sd)(this.url)}}};function p(e){return new Proxy(e,{apply(e,o,n){let a=n[0];if(a.isTrusted){let e=a.type;if(e in r){let t=r[e];if(t._init&&!1===t._init.call(a))return;n[0]=new Proxy(a,{get(e,r,o){let n=Reflect.get(e,r);return r in t?t[r].call(e):"function"==typeof n?new Proxy(n,{apply:(e,t,r)=>t===o?Reflect.apply(e,a,r):Reflect.apply(e,t,r)}):n},getOwnPropertyDescriptor:s.getOwnPropertyDescriptorHandler})}}return t.event||Object.defineProperty(t,"event",{get:()=>n[0],configurable:!0}),Reflect.apply(e,o,n)},getOwnPropertyDescriptor:s.getOwnPropertyDescriptorHandler})}e.Proxy("EventTarget.prototype.addEventListener",{apply(t){if((0,l.unproxy)(t,e),"function"!=typeof t.args[1])return;let r=t.args[1],o=p(r);t.args[1]=o;let n=e.eventcallbacks.get(t.this);(n||=[]).push({event:t.args[0],originalCallback:r,proxiedCallback:o}),e.eventcallbacks.set(t.this,n)}}),e.Proxy("EventTarget.prototype.removeEventListener",{apply(t){if((0,l.unproxy)(t,e),"function"!=typeof t.args[1])return;let r=e.eventcallbacks.get(t.this);if(!r)return;let o=r.findIndex(e=>e.event===t.args[0]&&e.originalCallback===t.args[1]);if(-1===o)return;let n=r.splice(o,1);e.eventcallbacks.set(t.this,r),t.args[1]=n[0].proxiedCallback}}),e.Proxy("EventTarget.prototype.dispatchEvent",{apply(t){(0,l.unproxy)(t,e)}});let u=[t.self,t.MessagePort.prototype];for(let n of(o.iswindow&&u.push(t.HTMLElement.prototype),t.Worker&&u.push(t.Worker.prototype),u))for(let t of Reflect.ownKeys(n))if("string"==typeof t&&t.startsWith("on")&&r[t.slice(2)]){let r=(0,i.nativeGetOwnPropertyDescriptor)(n,t);if(!r.get||!r.set||!r.configurable)continue;e.RawTrap(n,t,{get(e){return this[c]?this[c]:e.get()},set(e,t){if(this[c]=t,"function"!=typeof t)return e.set(t);e.set(p(t))}})}}},7636:function(e,t,r){r.r(t),r.d(t,{default:()=>a});var o=r(4471);function n(e,t){let r=e.call().toString(),n=(0,o.Zs)(r,"(function proxy)",t.meta);e.return(e.fn(`return ${n}`)())}function a(e,t){e.Proxy("Function",{apply(t){n(t,e)},construct(t){n(t,e)}})}},4636:function(e,t,r){r.r(t),r.d(t,{default:()=>a});var o=r(4471),n=r(2434);function a(e,t){let r=e.natives.store.Function;t[o.vc.globals.importfn]=function(t,o){let a=new URL(o,t).href;return r(`return import("${(0,n.dm)(a,e.meta)}")`)()},t[o.vc.globals.metafn]=function(e){return{url:e,resolve:function(t){return new URL(t,e).href}}}}},2930:function(e,t,r){function o(e){e.Proxy("IDBFactory.prototype.open",{apply(t){t.args[0]=`${e.url.origin}@${t.args[0]}`}}),e.Trap("IDBDatabase.prototype.name",{get(e){let t=e.get();return t.substring(t.indexOf("@")+1)}})}r.r(t),r.d(t,{default:()=>o})},6970:function(e,t,r){function o(e,t){e.Proxy("StorageManager.prototype.getDirectory",{apply(t){let r=t.call();t.return((async()=>{let t=await r,o=await t.getDirectoryHandle(`${e.url.origin.replace(/\/|\s|\./g,"-")}`,{create:!0});return Object.defineProperty(o,"name",{value:"",writable:!1}),o})())}})}r.r(t),r.d(t,{default:()=>o})},2625:function(e,t,r){r.r(t),r.d(t,{default:()=>s});var o=r(6707),n=r(9777),a=r(6594);function s(e){o.iswindow&&e.Proxy("window.postMessage",{apply(e){let t,{constructor:{constructor:r}}="object"==typeof e.args[0]&&null!==e.args[0]?e.args[0]:"object"==typeof e.args[2]&&null!==e.args[2]?e.args[2]:e.this&&a.POLLUTANT in e.this&&"object"==typeof e.this[a.POLLUTANT]&&null!==e.this[a.POLLUTANT]?e.this[a.POLLUTANT]:{},o=r("return globalThis")()[n.a3],s=r("...args","this(...args)");e.args[0]={$scramjet$messagetype:"window",$scramjet$origin:o.url.origin,$scramjet$data:e.args[0]},"string"==typeof e.args[1]&&(e.args[1]="*"),"object"==typeof e.args[1]&&(e.args[1].targetOrigin="*"),e.return(s.call(e.fn,...e.args))}});let t=["MessagePort.prototype.postMessage"];self.Worker&&t.push("Worker.prototype.postMessage"),o.iswindow||t.push("self.postMessage"),e.Proxy(t,{apply(e){e.args[0]={$scramjet$messagetype:"worker",$scramjet$data:e.args[0]}}})}},6594:function(e,t,r){r.r(t),r.d(t,{POLLUTANT:()=>n,default:()=>a});var o=r(4471);let n=Symbol.for("scramjet realm pollutant");function a(e,t){Object.defineProperty(t.Object.prototype,o.vc.globals.setrealmfn,{value(e){return Object.defineProperty(this,n,{value:e,writable:!1,configurable:!0,enumerable:!1}),this},writable:!0,configurable:!0,enumerable:!1})}},2738:function(e,t,r){r.r(t),r.d(t,{default:()=>n});var o=r(4471);function n(e){e.Proxy("EventSource",{construct(t){t.args[0]=(0,o.dm)(t.args[0],e.meta)}}),e.Trap("EventSource.prototype.url",{get(e){(0,o.Sd)(e.get())}})}},106:function(e,t,r){r.r(t),r.d(t,{default:()=>a});var o=r(6707),n=r(4471);function a(e,t){e.Proxy("fetch",{apply(t){("string"==typeof t.args[0]||t.args[0]instanceof URL)&&(t.args[0]=(0,n.dm)(t.args[0],e.meta),o.isemulatedsw&&(t.args[0]+="?from=swruntime"))}}),e.Proxy("Request",{construct(t){("string"==typeof t.args[0]||t.args[0]instanceof URL)&&(t.args[0]=(0,n.dm)(t.args[0],e.meta),o.isemulatedsw&&(t.args[0]+="?from=swruntime"))}}),e.Trap("Response.prototype.url",{get:e=>(0,n.Sd)(e.get())}),e.Trap("Request.prototype.url",{get:e=>(0,n.Sd)(e.get())})}},7219:function(e,t,r){function o(e,t){let r=new WeakMap,o=new WeakMap;e.Proxy("WebSocket",{construct(o){let n=new EventTarget;Object.setPrototypeOf(n,o.fn.prototype),n.constructor=o.fn;let a=e=>new Proxy(e,{get:(e,t)=>"isTrusted"===t||Reflect.get(e,t)}),s=e.bare.createWebSocket(o.args[0],o.args[1],null,{"User-Agent":t.navigator.userAgent,Origin:e.url.origin}),i={extensions:"",protocol:"",url:o.args[0],binaryType:"blob",barews:s,onclose:null,onerror:null,onmessage:null,onopen:null};function l(e){i["on"+e.type]?.(a(e)),n.dispatchEvent(e)}s.addEventListener("open",()=>{l(new Event("open"))}),s.addEventListener("close",e=>{l(new CloseEvent("close",e))}),s.addEventListener("message",async e=>{let t=e.data;"string"==typeof t||("byteLength"in t?"blob"===i.binaryType?t=new Blob([t]):Object.setPrototypeOf(t,ArrayBuffer.prototype):"arrayBuffer"in t&&"arraybuffer"===i.binaryType&&Object.setPrototypeOf(t=await t.arrayBuffer(),ArrayBuffer.prototype)),l(new MessageEvent("message",{data:t,origin:e.origin,lastEventId:e.lastEventId,source:e.source,ports:e.ports}))}),s.addEventListener("error",()=>{l(new Event("error"))}),r.set(n,i),o.return(n)}}),e.Trap("WebSocket.prototype.binaryType",{get:e=>r.get(e.this).binaryType,set(e,t){let o=r.get(e.this);("blob"===t||"arraybuffer"===t)&&(o.binaryType=t)}}),e.Trap("WebSocket.prototype.bufferedAmount",{get:()=>0}),e.Trap("WebSocket.prototype.extensions",{get:e=>r.get(e.this).extensions}),e.Trap("WebSocket.prototype.onclose",{get:e=>r.get(e.this).onclose,set(e,t){r.get(e.this).onclose=t}}),e.Trap("WebSocket.prototype.onerror",{get:e=>r.get(e.this).onerror,set(e,t){r.get(e.this).onerror=t}}),e.Trap("WebSocket.prototype.onmessage",{get:e=>r.get(e.this).onmessage,set(e,t){r.get(e.this).onmessage=t}}),e.Trap("WebSocket.prototype.onopen",{get:e=>r.get(e.this).onopen,set(e,t){r.get(e.this).onopen=t}}),e.Trap("WebSocket.prototype.url",{get:e=>r.get(e.this).url}),e.Trap("WebSocket.prototype.protocol",{get:e=>r.get(e.this).protocol}),e.Trap("WebSocket.prototype.readyState",{get:e=>r.get(e.this).barews.readyState}),e.Proxy("WebSocket.prototype.send",{apply(e){let t=r.get(e.this);e.return(t.barews.send(e.args[0]))}}),e.Proxy("WebSocket.prototype.close",{apply(e){let t=r.get(e.this);void 0===e.args[0]&&(e.args[0]=1e3),void 0===e.args[1]&&(e.args[1]=""),e.return(t.barews.close(e.args[0],e.args[1]))}}),e.Proxy("WebSocketStream",{construct(r){let n,a,s,i={};Object.setPrototypeOf(i,r.fn.prototype),i.constructor=r.fn;let l=e.bare.createWebSocket(r.args[0],r.args[1],null,{"User-Agent":t.navigator.userAgent,Origin:e.url.origin});r.args[1]?.signal.addEventListener("abort",()=>{l.close(1e3,"")});let c={extensions:"",protocol:"",url:r.args[0],barews:l,opened:new Promise((e,t)=>{n=e,s=t}),closed:new Promise(e=>{a=e}),readable:new ReadableStream({start(e){l.addEventListener("message",async t=>{let r=t.data;"string"==typeof r||("byteLength"in r?Object.setPrototypeOf(r,ArrayBuffer.prototype):"arrayBuffer"in r&&Object.setPrototypeOf(r=await r.arrayBuffer(),ArrayBuffer.prototype)),e.enqueue(r)})}}),writable:new WritableStream({write(e){l.send(e)}})};l.addEventListener("open",()=>{n({readable:c.readable,writable:c.writable,extensions:c.extensions,protocol:c.protocol})}),l.addEventListener("close",e=>{a({code:e.code,reason:e.reason})}),l.addEventListener("error",e=>{s(e)}),o.set(i,c),r.return(i)}}),e.Trap("WebSocketStream.prototype.closed",{get:e=>o.get(e.this).closed}),e.Trap("WebSocketStream.prototype.opened",{get:e=>o.get(e.this).opened}),e.Trap("WebSocketStream.prototype.url",{get:e=>o.get(e.this).url}),e.Proxy("WebSocketStream.prototype.close",{apply(e){let t=o.get(e.this);return e.args[0]?(void 0===e.args[0].closeCode&&(e.args[0].closeCode=1e3),void 0===e.args[0].reason&&(e.args[0].reason=""),e.return(t.barews.close(e.args[0].closeCode,e.args[0].reason))):e.return(t.barews.close(1e3,""))}})}r.r(t),r.d(t,{default:()=>o})},7481:function(e,t,r){r.r(t),r.d(t,{default:()=>a});var o=r(8810),n=r(4471);function a(e,t){let r;t.Worker&&(0,o.Sp)("syncxhr",e.url)&&(r=e.natives.construct("Worker",n.vc.files.sync));let a=Symbol("xhr original args"),s=Symbol("xhr headers");e.Proxy("XMLHttpRequest.prototype.open",{apply(t){t.args[1]&&(t.args[1]=(0,n.dm)(t.args[1],e.meta)),void 0===t.args[2]&&(t.args[2]=!0),t.this[a]=t.args}}),e.Proxy("XMLHttpRequest.prototype.setRequestHeader",{apply(e){(e.this[s]||(e.this[s]={}))[e.args[0]]=e.args[1]}}),e.Proxy("XMLHttpRequest.prototype.send",{apply(t){let n=t.this[a];if(!n||n[2])return;if(!(0,o.Sp)("syncxhr",e.url))return console.warn("ignoring request - sync xhr disabled in flags"),t.return(void 0);let i=new SharedArrayBuffer(1024,{maxByteLength:0x7fffffff}),l=new DataView(i);e.natives.call("Worker.prototype.postMessage",r,{sab:i,args:n,headers:t.this[s],body:t.args[0]});let c=performance.now();for(;0===l.getUint8(0);)if(performance.now()-c>1e3)throw Error("xhr timeout");let p=l.getUint16(1),u=l.getUint32(3),f=new Uint8Array(u);f.set(new Uint8Array(i.slice(7,7+u)));let g=new TextDecoder().decode(f),d=l.getUint32(7+u),y=new Uint8Array(d);y.set(new Uint8Array(i.slice(11+u,11+u+d)));let m=new TextDecoder().decode(y);e.RawTrap(t.this,"status",{get:()=>p}),e.RawTrap(t.this,"responseText",{get:()=>m}),e.RawTrap(t.this,"response",{get:()=>"arraybuffer"===t.this.responseType?y.buffer:m}),e.RawTrap(t.this,"responseXML",{get:()=>new DOMParser().parseFromString(m,"text/xml")}),e.RawTrap(t.this,"getAllResponseHeaders",{get:()=>()=>g}),e.RawTrap(t.this,"getResponseHeader",{get:()=>e=>{let t=RegExp(`^${e}: (.*)$`,"m").exec(g);return t?t[1]:null}}),t.return(void 0)}}),e.Trap("XMLHttpRequest.prototype.responseURL",{get:e=>(0,n.Sd)(e.get())})}},6321:function(e,t,r){r.r(t),r.d(t,{default:()=>i,enabled:()=>s});var o=r(8810),n=r(9777);let a="/*scramtag ",s=e=>(0,o.Sp)("sourcemaps",e.url);function i(e,t){Object.defineProperty(t,globalThis.$scramjet.config.globals.pushsourcemapfn,{value:(e,t)=>{let r=performance.now();!function(e,t){let r=Uint8Array.from(e),o=new DataView(r.buffer),a=new TextDecoder("utf-8"),s=[],i=o.getUint32(0,!0),l=4;for(let e=0;e<i;e++){let e=o.getUint32(l,!0);l+=4;let t=o.getUint32(l,!0);l+=4;let n=o.getUint8(l);if(l+=1,0==n)s.push({type:n,start:e,size:t});else if(1==n){let i=e+t,c=o.getUint32(l,!0);l+=4;let p=a.decode(r.subarray(l,l+c));s.push({type:n,start:e,end:i,str:p})}}self[n.a3].sourcemaps[t]=s}(e,t);let a=performance.now()-r;if((0,o.Sp)("rewriterLogs",new URL(location.href))){let e;e=a<1?"BLAZINGLY FAST":a<500?"decent speed":"really slow",console.log(`js rewrite parsing for scramtag ${t} was ${e} (${a.toFixed(2)}ms)`)}},enumerable:!1,writable:!1,configurable:!1}),e.Proxy("Function.prototype.toString",{apply(e){let t=performance.now();!function(e){let t=e.fn.call(e.this),r=t.indexOf("/*s");if(-1===r)return e.return(t);let o=t.indexOf(" ",r+a.length),s=parseInt(t.substring(r+a.length,o))-r,i=s+t.length,l=t.indexOf("*/",r),c=t.substring(o+1,l),p=function(e){function t(r){let o=r.Symbol.for(n.i9);if(r[o]&&r[o].sourcemaps&&r[o].sourcemaps[e])return r[o].sourcemaps[e];for(let e=0;e<r.frames.length;e++){let o=t(r.frames[e].self);if(o)return o}}let r=self,o=t(r);if(o)return o;for(;r.parent&&r.parent!==r.window;){let e=t(r=r.parent.self);if(e)return e}}(c);if(!p)return console.warn("failed to get rewrites for tag",c),e.return(t);let u=0;for(;u<p.length;)if(p[u].start<s)u++;else break;let f=u;for(;f<p.length;)if(function(e){if(0===e.type)return e.start+e.size;if(1===e.type)return e.end;throw"unreachable"}(p[f])<i)f++;else break;let g=p.slice(u,f),d="",y=s;for(let e of g)if(d+=t.slice(y,e.start),0===e.type)y=e.start+e.size;else if(1===e.type)d+=e.str,y=e.end;else throw"unreachable";d+=t.slice(y),e.return(d)}(e);let r=performance.now()-t;if((0,o.Sp)("rewriterLogs",new URL(location.href))){let e;e=r<1?"BLAZINGLY FAST":r<500?"decent speed":"really slow",console.log(`js unrewrite for function was ${e} (${r.toFixed(2)}ms)`)}}})}},1587:function(e,t,r){function o(e,t){delete t.TrustedHTML,delete t.TrustedScript,delete t.TrustedScriptURL,delete t.TrustedTypePolicy,delete t.TrustedTypePolicyFactory,t.__defineGetter__("trustedTypes",()=>void 0)}r.r(t),r.d(t,{default:()=>o})},2370:function(e,t,r){r.r(t),r.d(t,{default:()=>a,order:()=>n,unproxy:()=>s});var o=r(6707);let n=3;function a(e,t){for(let r of[t])for(let t in r)try{"function"==typeof r[t]&&e.RawProxy(r,t,{apply(t){s(t,e)}})}catch{}if(o.iswindow){for(let r of[t.Node.prototype,t.MutationObserver.prototype,t.document,t.MouseEvent.prototype,t.Range.prototype])for(let t in r)try{"function"==typeof r[t]&&e.RawProxy(r,t,{apply(t){s(t,e)}})}catch{}e.Proxy("IntersectionObserver",{construct(e){e.args[1]&&e.args[1].root&&(e.args[1].root=t.document)}}),e.Proxy("Object.defineProperty",{apply(t){s(t,e)}}),e.Proxy("Object.getOwnPropertyDescriptor",{apply(t){let r=t.call();r&&(r.get&&e.RawProxy(r,"get",{apply(t){s(t,e)}}),r.set&&e.RawProxy(r,"set",{apply(t){s(t,e)}}),t.return(r))}})}}function s(e,t){let r=t.global;for(let o in e.this===t.globalProxy&&(e.this=r),e.this===t.documentProxy&&(e.this=r.document),e.args)e.args[o]===t.documentProxy&&(e.args[o]=r.document),e.args[o]===t.globalProxy&&(e.args[o]=r)}},8475:function(e,t,r){r.r(t),r.d(t,{default:()=>n});var o=r(4471);function n(e,t){e.Proxy("Worker",{construct({args:t,call:r}){t[0]=(0,o.dm)(t[0],e.meta)+"?dest=worker",t[1]&&"module"===t[1].type&&(t[0]+="&type=module");let n=r(),a=new o.ut;(async()=>{let t=await a.getInnerPort();e.natives.call("Worker.prototype.postMessage",n,{$scramjet$type:"baremuxinit",port:t},[t])})()}}),e.Proxy("SharedWorker",{construct({args:t,call:r}){t[0]=(0,o.dm)(t[0],e.meta)+"?dest=sharedworker",t[1]&&"string"==typeof t[1]&&(t[1]=`${e.url.origin}@${t[1]}`),t[1]&&"object"==typeof t[1]&&("module"===t[1].type&&(t[0]+="&type=module"),t[1].name&&(t[1].name=`${e.url.origin}@${t[1].name}`));let n=r(),a=new o.ut;(async()=>{let t=await a.getInnerPort();e.natives.call("MessagePort.prototype.postMessage",n.port,{$scramjet$type:"baremuxinit",port:t},[t])})()}}),e.Proxy("Worklet.prototype.addModule",{apply(t){t.args[0]&&(t.args[0]=(0,o.dm)(t.args[0],e.meta)+"?dest=worklet")}})}},7706:function(e,t,r){r.r(t),r.d(t,{createWrapFn:()=>i,default:()=>c,order:()=>l});var o=r(6707),n=r(9777),a=r(4471),s=r(4423);function i(e,t){return function(r,a){if(r===t)return e.globalProxy;if(r===t.location)return e.locationProxy;if(r===eval)return s.indirectEval.bind(e,a);if(o.iswindow){if(r===t.parent)if(n.a3 in t.parent)return t.parent[n.a3].globalProxy;else return e.globalProxy;else if(r===t.document)return e.documentProxy;else if(r===t.top){let e=t;for(;;){let t=e.parent.self;if(t===e||!(n.a3 in t))break;e=t}return e[n.a3].globalProxy}}return r}}let l=4;function c(e,t){Object.defineProperty(t,a.vc.globals.wrapfn,{value:e.wrapfn,writable:!1,configurable:!1}),Object.defineProperty(t,a.vc.globals.wrapthisfn,{value:function(r){return r===t?e.globalProxy:r},writable:!1,configurable:!1}),t.$scramitize=function(e){return location,o.iswindow&&(t.parent,t.document,t.top),"string"==typeof e&&e.includes("scramjet"),"string"==typeof e&&e.includes(location.origin),e},Object.defineProperty(t,a.vc.globals.trysetfn,{value:function(e,t,r){if(e instanceof Location)return locationProxy.href=r,!0},writable:!1,configurable:!1})}},633:function(e,t,r){r.r(t),r.d(t,{ScramjetServiceWorkerRuntime:()=>a});var o=r(4471),n=r(1762).Z;class a{client;recvport;constructor(e){this.client=e,self.onconnect=t=>{let r=t.ports[0];n.log("sw","connected"),r.addEventListener("message",t=>{console.log("sw",t.data),"scramjet$type"in t.data&&("init"===t.data.scramjet$type?(this.recvport=t.data.scramjet$port,this.recvport.postMessage({scramjet$type:"init"})):s.call(this,e,t.data))}),r.start()}}hook(){this.client.global.registration={scope:this.client.url.href,active:{scriptURL:this.client.url.href,state:"activated",onstatechange:null,onerror:null,postMessage:()=>{},addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:e=>!1},showNotification:async()=>{},unregister:async()=>!0,update:async()=>{},installing:null,waiting:null},this.client.global.ServiceWorkerGlobalScope=this.client.global}}function s(e,t){let r=this.recvport,a=t.scramjet$type,s=t.scramjet$token,i=e.eventcallbacks.get(self);if("fetch"===a){n.log("ee",t);let a=i.filter(e=>"fetch"===e.event);if(!a)return;for(let i of a){let a=t.scramjet$request,l=new e.natives.Request((0,o.Sd)(a.url),{body:a.body,headers:new Headers(a.headers),method:a.method,mode:"same-origin"});Object.defineProperty(l,"destination",{value:a.destinitation});let c=new Event("fetch");c.request=l;let p=!1;c.respondWith=e=>{p=!0,(async()=>{let t={scramjet$type:"fetch",scramjet$token:s,scramjet$response:{body:(e=await e).body,headers:Array.from(e.headers.entries()),status:e.status,statusText:e.statusText}};n.log("sw","responding",t),r.postMessage(t,[e.body])})()},n.log("to fn",c),i.proxiedCallback(new Proxy(c,{get:(e,t,r)=>"isTrusted"===t||Reflect.get(e,t)})),p||(console.log("sw","no response"),r.postMessage({scramjet$type:"fetch",scramjet$token:s,scramjet$response:!1}))}}}},5425:function(e,t,r){r.r(t),r.d(t,{default:()=>n});var o=r(4471);function n(e,t){e.Proxy("importScripts",{apply(t){for(let r in t.args)t.args[r]=(0,o.dm)(t.args[r],e.meta)}})}},1762:function(e,t,r){r.d(t,{Z:()=>o});let o={fmt:function(e,t,...r){let o=Error.prepareStackTrace;Error.prepareStackTrace=(e,t)=>{t.shift(),t.shift(),t.shift();let r="";for(let e=1;e<Math.min(2,t.length);e++)t[e].getFunctionName()&&(r+=`${t[e].getFunctionName()} -> `+r);return r+(t[0].getFunctionName()||"Anonymous")};let n=function(){try{throw Error()}catch(e){return e.stack}}();Error.prepareStackTrace=o,(console[e]||console.log)(`%c${n}%c ${t}`,`
		background-color: ${{log:"#000",warn:"#f80",error:"#f00",debug:"transparent"}[e]};
		color: ${{log:"#fff",warn:"#fff",error:"#fff",debug:"gray"}[e]};
		padding: ${{log:2,warn:4,error:4,debug:0}[e]}px;
		font-weight: bold;
		font-family: monospace;
		font-size: 0.9em;
	`,`${"debug"===e?"color: gray":""}`,...r)},log:function(e,...t){this.fmt("log",e,...t)},warn:function(e,...t){this.fmt("warn",e,...t)},error:function(e,...t){this.fmt("error",e,...t)},debug:function(e,...t){this.fmt("debug",e,...t)}}},8810:function(e,t,r){r.d(t,{Sp:()=>s,h3:()=>o,t8:()=>a}),"$scramjet"in self||(self.$scramjet={version:{build:"031c019",version:"1.0.2-dev"},codec:{},flagEnabled:s});let o=self.$scramjet,n=Function;function a(){o.codec.encode=n(`return ${o.config.codec.encode}`)(),o.codec.decode=n(`return ${o.config.codec.decode}`)()}function s(e,t){let r=o.config.flags[e];for(let r in o.config.siteFlags){let n=o.config.siteFlags[r];if(new RegExp(r).test(t.href)&&e in n)return n[e]}return r}},4471:function(e,t,r){r.d(t,{Ag:()=>p,Gq:()=>w,Od:()=>f,Sd:()=>l,U5:()=>u,WT:()=>d,Zs:()=>m,dg:()=>n,dm:()=>i,hc:()=>v,ls:()=>c,r4:()=>g,ut:()=>s,vc:()=>x});var o=r(8810);let{util:{BareClient:n,ScramjetHeaders:a,BareMuxConnection:s},url:{rewriteUrl:i,unrewriteUrl:l,rewriteBlob:c,unrewriteBlob:p},rewrite:{rewriteCss:u,unrewriteCss:f,rewriteHtml:g,unrewriteHtml:d,rewriteSrcset:y,rewriteJs:m,rewriteHeaders:h,rewriteWorkers:b,htmlRules:w},CookieStore:v}=o.h3.shared,x=o.h3.config},4079:function(e,t,r){r.d(t,{Z:()=>s});var o=r(8810),n=r(522);Error.stackTraceLimit=50;let a=new TextDecoder;function s(e,t,r,i=!1){return function(e,t,r,s=!1){if((0,o.Sp)("naiiveRewriter",r.origin)){var i;return{js:("string"!=typeof(i="string"==typeof e?e:new TextDecoder().decode(e))&&(i=new TextDecoder().decode(i)),`
		with (${o.h3.config.globals.wrapfn}(globalThis)) {

			${i}

		}
	`),tag:"",map:null}}return function(e,t,r,s){let i,l=(0,n.p)(),c=performance.now();try{i="string"==typeof e?l.rewrite_js(e,r.base.href,t||"(unknown)",s):l.rewrite_js_bytes(e,r.base.href,t||"(unknown)",s)}catch(r){return console.warn("failed rewriting js for",t,r.message,e),{js:e,tag:"",map:null}}let p=performance.now(),{js:u,map:f,scramtag:g,errors:d}=i,y=p-c;if((0,o.Sp)("sourcemaps",r.base)&&!globalThis.clients&&(globalThis[globalThis.$scramjet.config.globals.pushsourcemapfn](Array.from(f),g),f=null),(0,o.Sp)("rewriterLogs",r.base))for(let e of d)console.error("oxc parse error",e);(0,o.Sp)("rewriterLogs",r.base)&&console.log(`oxc rewrite for "${t||"(unknown)"}" was ${y<1?"BLAZINGLY FAST":y<500?"decent speed":"really slow"} (${y}ms)`);return{js:"string"==typeof e?a.decode(u):u,tag:g,map:f}}(e,t,r,s)}(e,t,r,i).js}},2434:function(e,t,r){r.d(t,{dm:()=>s});var o=r(8810),n=r(4079);function a(e,t){try{return new URL(e,t)}catch{return null}}function s(e,t){if(e instanceof URL&&(e=e.toString()),e.startsWith("javascript:"))return"javascript:"+(0,n.Z)(e.slice(11),"(javascript: url)",t);{if(e.startsWith("blob:")||e.startsWith("data:"))return location.origin+o.h3.config.prefix+e;if(e.startsWith("mailto:")||e.startsWith("about:"))return e;let r=t.base.href;r.startsWith("about:")&&(r=function(e){e instanceof URL&&(e=e.toString());let t=location.origin+o.h3.config.prefix;if(e.startsWith("javascript:"))return e;{if(e.startsWith("blob:"))return e;if(e.startsWith(t+"blob:")||e.startsWith(t+"data:"))return e.substring(t.length);if(e.startsWith("mailto:")||e.startsWith("about:"))return e;let r=a(e);if(!r)return e;let n=o.h3.codec.decode(r.hash.slice(1));return r.hash="",o.h3.codec.decode(r.href.slice(t.length)+(n?"#"+n:""))}}(self.location.href));let n=a(e,r);if(!n)return e;let s=o.h3.codec.encode(n.hash.slice(1));return n.hash="",location.origin+o.h3.config.prefix+o.h3.codec.encode(n.href)+(s?"#"+s:"")}}},522:function(e,t,r){r.d(t,{p:()=>l});var o=r(7418),n=r(8810);self.WASM&&(self.REAL_WASM=Uint8Array.from(atob(self.WASM),e=>e.charCodeAt(0)));let a=new TextDecoder,s="\0asm".split("").map(e=>e.charCodeAt(0)),i=null;function l(){if(!(self.REAL_WASM&&self.REAL_WASM instanceof Uint8Array))throw Error("rewriter wasm not found (was it fetched correctly?)");if(![...self.REAL_WASM.slice(0,4)].every((e,t)=>e===s[t]))throw Error("rewriter wasm does not have wasm magic (was it fetched correctly?)\nrewriter wasm contents: "+a.decode(self.REAL_WASM));return(0,o.rb)({module:new WebAssembly.Module(self.REAL_WASM)}),i||(i=new o.mZ(n.h3)),i}},9777:function(e,t,r){r.d(t,{D1:()=>a,a3:()=>n,i9:()=>o});let o="scramjet client global",n=Symbol.for(o),a=Symbol.for("scramjet frame handle")},3093:function(e,t,r){r.d(t,{t:()=>o});function o(){return"10000000000".replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}},7418:function(e,t,r){let o;r.d(t,{mZ:()=>b,rb:()=>P});var n=r(3093);function a(e,t){try{return e.apply(this,t)}catch(t){let e=function(e){let t=o.__externref_table_alloc();return o.__wbindgen_export_2.set(t,e),t}(t);o.__wbindgen_exn_store(e)}}let s="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&s.decode();let i=null;function l(){return(null===i||0===i.byteLength)&&(i=new Uint8Array(o.memory.buffer)),i}function c(e,t){return e>>>=0,s.decode(l().subarray(e,e+t))}let p=0,u="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},f="function"==typeof u.encodeInto?function(e,t){return u.encodeInto(e,t)}:function(e,t){let r=u.encode(e);return t.set(r),{read:e.length,written:r.length}};function g(e,t,r){if(void 0===r){let r=u.encode(e),o=t(r.length,1)>>>0;return l().subarray(o,o+r.length).set(r),p=r.length,o}let o=e.length,n=t(o,1)>>>0,a=l(),s=0;for(;s<o;s++){let t=e.charCodeAt(s);if(t>127)break;a[n+s]=t}if(s!==o){0!==s&&(e=e.slice(s)),n=r(n,o,o=s+3*e.length,1)>>>0;let t=f(e,l().subarray(n+s,n+o));s+=t.written,n=r(n,o,s,1)>>>0}return p=s,n}let d=null;function y(){return(null===d||!0===d.buffer.detached||void 0===d.buffer.detached&&d.buffer!==o.memory.buffer)&&(d=new DataView(o.memory.buffer)),d}function m(e){let t=o.__wbindgen_export_2.get(e);return o.__externref_table_dealloc(e),t}let h="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>o.__wbg_rewriter_free(e>>>0,1));class b{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,h.unregister(this),e}free(){let e=this.__destroy_into_raw();o.__wbg_rewriter_free(e,0)}constructor(e){let t=o.rewriter_new(e);if(t[2])throw m(t[1]);return this.__wbg_ptr=t[0]>>>0,h.register(this,this.__wbg_ptr,this),this}rewrite_js(e,t,r,n){let a=g(e,o.__wbindgen_malloc,o.__wbindgen_realloc),s=p,i=g(t,o.__wbindgen_malloc,o.__wbindgen_realloc),l=p,c=g(r,o.__wbindgen_malloc,o.__wbindgen_realloc),u=p,f=o.rewriter_rewrite_js(this.__wbg_ptr,a,s,i,l,c,u,n);if(f[2])throw m(f[1]);return m(f[0])}rewrite_js_bytes(e,t,r,n){let a=function(e,t){let r=t(+e.length,1)>>>0;return l().set(e,r/1),p=e.length,r}(e,o.__wbindgen_malloc),s=p,i=g(t,o.__wbindgen_malloc,o.__wbindgen_realloc),c=p,u=g(r,o.__wbindgen_malloc,o.__wbindgen_realloc),f=p,d=o.rewriter_rewrite_js_bytes(this.__wbg_ptr,a,s,i,c,u,f,n);if(d[2])throw m(d[1]);return m(d[0])}}async function w(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{let r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}function v(){let e={};return e.wbg={},e.wbg.__wbg_buffer_609cc3eee51ed158=function(e){return e.buffer},e.wbg.__wbg_call_7cccdd69e0791ae2=function(){return a(function(e,t,r){return e.call(t,r)},arguments)},e.wbg.__wbg_call_833bed5770ea2041=function(){return a(function(e,t,r,o){return e.call(t,r,o)},arguments)},e.wbg.__wbg_get_67b2ba62fc30de12=function(){return a(function(e,t){return Reflect.get(e,t)},arguments)},e.wbg.__wbg_new_405e22f390576ce2=function(){return{}},e.wbg.__wbg_new_78feb108b6472713=function(){return[]},e.wbg.__wbg_new_9ffbe0a71eff35e3=function(){return a(function(e,t){return new URL(c(e,t))},arguments)},e.wbg.__wbg_new_a12002a7f91c75be=function(e){return new Uint8Array(e)},e.wbg.__wbg_newwithbase_161c299e7a34e2eb=function(){return a(function(e,t,r,o){return new URL(c(e,t),c(r,o))},arguments)},e.wbg.__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a=function(e,t,r){return new Uint8Array(e,t>>>0,r>>>0)},e.wbg.__wbg_scramtag_3a255d78b157986d=function(e){let t=g((0,n.t)(),o.__wbindgen_malloc,o.__wbindgen_realloc),r=p;y().setInt32(e+4,r,!0),y().setInt32(e+0,t,!0)},e.wbg.__wbg_set_bb8cecf6a62b9f46=function(){return a(function(e,t,r){return Reflect.set(e,t,r)},arguments)},e.wbg.__wbg_toString_5285597960676b7b=function(e){return e.toString()},e.wbg.__wbg_toString_c813bbd34d063839=function(e){return e.toString()},e.wbg.__wbindgen_boolean_get=function(e){return"boolean"==typeof e?+!!e:2},e.wbg.__wbindgen_error_new=function(e,t){return Error(c(e,t))},e.wbg.__wbindgen_init_externref_table=function(){let e=o.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},e.wbg.__wbindgen_is_function=function(e){return"function"==typeof e},e.wbg.__wbindgen_memory=function(){return o.memory},e.wbg.__wbindgen_string_get=function(e,t){let r="string"==typeof t?t:void 0;var n=null==r?0:g(r,o.__wbindgen_malloc,o.__wbindgen_realloc),a=p;y().setInt32(e+4,a,!0),y().setInt32(e+0,n,!0)},e.wbg.__wbindgen_string_new=function(e,t){return c(e,t)},e.wbg.__wbindgen_throw=function(e,t){throw Error(c(e,t))},e}function x(e,t){return o=e.exports,S.__wbindgen_wasm_module=t,d=null,i=null,o.__wbindgen_start(),o}function P(e){if(void 0!==o)return o;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module:e}=e:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));let t=v();return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),x(new WebAssembly.Instance(e,t),e)}async function S(e){if(void 0!==o)return o;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new URL("wasm_bg.wasm",""));let t=v();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:r,module:n}=await w(await e,t);return x(r,n)}}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(6707)})();
//# sourceMappingURL=scramjet.client.js.map